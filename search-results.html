<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æœç´¢ç»“æœ - æ¸¸æˆä¸­å¿ƒ</title>
<style>
:root {
    --primary: #1a2030;
    --secondary: #1e293b;
    --accent: #66c0f4;
    --accent-hover: #1a9fff;
    --text: #f9fafb;
    --text-secondary: #94a3b8;
    --card-bg: #171e2e;
    --card-hover: #202a3c;
    --success: #4ade80;
    --warning: #f59e0b;
    --danger: #ef4444;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    background-color: var(--primary);
    color: var(--text);
    overflow-x: hidden;
}

/* Header & Navigation */
header {
    background-color: var(--secondary);
    padding: 1rem 2rem;
    position: sticky;
    top: 0;
    z-index: 100;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1400px;
    margin: 0 auto;
}

.logo {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--accent);
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.logo-icon {
    width: 32px;
    height: 32px;
    background-color: var(--accent);
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.nav-links {
    display: flex;
    gap: 2rem;
}

.nav-links a {
    color: var(--text);
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s ease;
    position: relative;
}

.nav-links a:hover, .nav-links a.active {
    color: var(--accent);
}

.nav-links a::after {
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    bottom: -5px;
    left: 0;
    background-color: var(--accent);
    transition: width 0.3s ease;
}

.nav-links a:hover::after, .nav-links a.active::after {
    width: 100%;
}

.user-actions {
    display: flex;
    gap: 1rem;
    align-items: center;
}

.search-bar {
    position: relative;
}

.search-bar input {
    background-color: rgba(255, 255, 255, 0.1);
    border: none;
    border-radius: 4px;
    padding: 0.5rem 1rem 0.5rem 2.5rem;
    color: var(--text);
    width: 200px;
    transition: all 0.3s ease;
}

.search-bar input:focus {
    outline: none;
    background-color: rgba(255, 255, 255, 0.15);
    width: 250px;
}

.search-bar::before {
    content: 'ğŸ”';
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-secondary);
}

.btn {
    background-color: var(--accent);
    color: #fff;
    border: none;
    border-radius: 4px;
    padding: 0.5rem 1rem;
    font-weight: 500;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
}

.btn:hover {
    background-color: var(--accent-hover);
    transform: translateY(-2px);
}

/* Search Container */
.search-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 2rem;
}

/* Search Header */
.search-header {
    margin-bottom: 2rem;
}

.search-title {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
}

.search-subtitle {
    color: var(--text-secondary);
}

/* Search Layout */
.search-layout {
    display: grid;
    grid-template-columns: 280px 1fr;
    gap: 2rem;
}

/* Search Filters */
.search-filters {
    background-color: var(--card-bg);
    border-radius: 8px;
    padding: 1.5rem;
    position: sticky;
    top: 100px;
    height: fit-content;
}

.filters-title {
    font-size: 1.2rem;
    margin-bottom: 1.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.filter-group {
    margin-bottom: 1.5rem;
}

.filter-group:last-child {
    margin-bottom: 0;
}

.filter-label {
    font-weight: 500;
    margin-bottom: 0.75rem;
    display: block;
}

.filter-options {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.filter-checkbox {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.filter-checkbox input {
    width: 16px;
    height: 16px;
    accent-color: var(--accent);
}

.filter-checkbox label {
    color: var(--text-secondary);
    cursor: pointer;
    transition: color 0.3s ease;
}

.filter-checkbox:hover label {
    color: var(--text);
}

.filter-range {
    margin-top: 0.5rem;
}

.range-values {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5rem;
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.range-slider {
    width: 100%;
    height: 4px;
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 2px;
    position: relative;
}

.range-progress {
    position: absolute;
    height: 100%;
    background-color: var(--accent);
    border-radius: 2px;
    width: 60%;
}

.range-handle {
    width: 16px;
    height: 16px;
    background-color: var(--accent);
    border-radius: 50%;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
}

.range-handle.start {
    left: 0;
}

.range-handle.end {
    left: 60%;
}

.filter-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-top: 0.5rem;
}

.filter-tag {
    background-color: rgba(102, 192, 244, 0.1);
    color: var(--accent);
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.85rem;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.filter-tag:hover {
    background-color: rgba(102, 192, 244, 0.2);
}

.filter-tag.active {
    background-color: var(--accent);
    color: white;
}

.filter-actions {
    display: flex;
    gap: 1rem;
    margin-top: 2rem;
}

.filter-actions .btn {
    flex: 1;
}

.btn-outline {
    background-color: transparent;
    border: 1px solid var(--accent);
    color: var(--accent);
}

.btn-outline:hover {
    background-color: rgba(102, 192, 244, 0.1);
}

/* Search Results */
.search-results {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

/* Search Bar */
.search-bar-large {
    position: relative;
    margin-bottom: 1.5rem;
}

.search-bar-large input {
    width: 100%;
    background-color: var(--card-bg);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 1rem 1rem 1rem 3rem;
    color: var(--text);
    font-size: 1.1rem;
    transition: border-color 0.3s ease;
}

.search-bar-large input:focus {
    outline: none;
    border-color: var(--accent);
}

.search-bar-large::before {
    content: 'ğŸ”';
    position: absolute;
    left: 1rem;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.2rem;
    color: var(--text-secondary);
}

/* Results Header */
.results-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
}

.results-count {
    font-size: 1.1rem;
    color: var(--text-secondary);
}

.results-count span {
    color: var(--text);
    font-weight: 500;
}

.results-sort {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.sort-label {
    color: var(--text-secondary);
}

.sort-select {
    background-color: var(--card-bg);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    padding: 0.5rem;
    color: var(--text);
    cursor: pointer;
}

.sort-select:focus {
    outline: none;
    border-color: var(--accent);
}

/* Results Grid */
.results-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5rem;
}

.game-card {
    background-color: var(--card-bg);
    border-radius: 8px;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.game-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.1);
}

.game-img {
    width: 100%;
    height: 160px;
    object-fit: cover;
    transition: transform 0.5s ease;
}

.game-card:hover .game-img {
    transform: scale(1.05);
}

.game-content {
    padding: 1.5rem;
}

.game-tags {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
    flex-wrap: wrap;
}

.game-tag {
    background-color: rgba(102, 192, 244, 0.1);
    color: var(--accent);
    padding: 0.15rem 0.5rem;
    border-radius: 4px;
    font-size: 0.75rem;
}

.game-title {
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
    line-height: 1.4;
}

.game-title a {
    color: var(--text);
    text-decoration: none;
    transition: color 0.3s ease;
}

.game-title a:hover {
    color: var(--accent);
}

.game-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.game-rating {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.rating-stars {
    color: #f59e0b;
}

.game-release {
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.game-price {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.price-amount {
    font-size: 1.2rem;
    font-weight: 700;
}

.price-discount {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.discount-badge {
    background-color: var(--success);
    color: white;
    padding: 0.15rem 0.5rem;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: 500;
}

.original-price {
    color: var(--text-secondary);
    text-decoration: line-through;
    font-size: 0.9rem;
}

/* No Results */
.no-results {
    background-color: var(--card-bg);
    border-radius: 8px;
    padding: 3rem;
    text-align: center;
    animation: fadeIn 0.5s ease;
}

.no-results-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
    color: var(--text-secondary);
}

.no-results-title {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
}

.no-results-message {
    color: var(--text-secondary);
    margin-bottom: 1.5rem;
}

.suggested-searches {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.5rem;
    margin-top: 1.5rem;
}

.suggested-search {
    background-color: rgba(255, 255, 255, 0.1);
    color: var(--text);
    padding: 0.5rem 1rem;
    border-radius: 20px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.suggested-search:hover {
    background-color: rgba(102, 192, 244, 0.2);
    color: var(--accent);
}

/* Pagination */
.pagination {
    display: flex;
    justify-content: center;
    margin-top: 3rem;
    gap: 0.5rem;
}

.page-btn {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--card-bg);
    border: none;
    color: var(--text);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.page-btn:hover, .page-btn.active {
    background-color: var(--accent);
    color: white;
}

.page-arrow {
    background-color: transparent;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Footer */
footer {
    background-color: var(--secondary);
    padding: 4rem 2rem 2rem;
    color: var(--text-secondary);
    margin-top: 4rem;
}

.footer-content {
    max-width: 1400px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 3rem;
}

.footer-logo {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--accent);
    margin-bottom: 1rem;
    display: inline-block;
}

.footer-about p {
    line-height: 1.6;
    margin-bottom: 1.5rem;
}

.social-links {
    display: flex;
    gap: 1rem;
}

.social-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s ease;
}

.social-icon:hover {
    background-color: var(--accent);
}

.footer-title {
    font-size: 1.2rem;
    color: var(--text);
    margin-bottom: 1.5rem;
    position: relative;
    padding-bottom: 0.5rem;
}

.footer-title::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 40px;
    height: 2px;
    background-color: var(--accent);
}

.footer-links {
    list-style: none;
}

.footer-links li {
    margin-bottom: 0.75rem;
}

.footer-links a {
    color: var(--text-secondary);
    text-decoration: none;
    transition: color 0.3s ease, padding-left 0.3s ease;
    display: inline-block;
}

.footer-links a:hover {
    color: var(--accent);
    padding-left: 5px;
}

.footer-bottom {
    max-width: 1400px;
    margin: 0 auto;
    padding-top: 2rem;
    margin-top: 3rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
}

.copyright {
    font-size: 0.9rem;
}

.footer-nav {
    display: flex;
    gap: 1.5rem;
}

.footer-nav a {
    color: var(--text-secondary);
    text-decoration: none;
    font-size: 0.9rem;
    transition: color 0.3s ease;
}

.footer-nav a:hover {
    color: var(--accent);
}

/* Responsive */
@media (max-width: 992px) {
    .search-layout {
        grid-template-columns: 1fr;
    }

    .search-filters {
        position: static;
        margin-bottom: 2rem;
    }

    .filter-groups {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;
    }
}

@media (max-width: 768px) {
    .nav-links {
        display: none;
    }

    .results-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
    }

    .results-grid {
        grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    }
}

@media (max-width: 576px) {
    .results-grid {
        grid-template-columns: 1fr;
    }

    .filter-groups {
        grid-template-columns: 1fr;
    }

    .filter-actions {
        flex-direction: column;
    }
}
</style>
</head>
<body>
<!-- Header & Navigation -->
<header>
<nav>
    <a href="index.html" class="logo">
        <div class="logo-icon">æ¸¸</div>
        æ¸¸æˆä¸­å¿ƒ
    </a>
    <div class="nav-links">
        <a href="index.html">å•†åº—</a>
        <a href="library.html">æˆ‘çš„æ¸¸æˆåº“</a>
        <a href="profile.html">ä¸ªäººèµ„æ–™</a>
        <a href="wishlist.html">æ„¿æœ›å•</a>
        <a href="community.html">ç¤¾åŒº</a>
        <a href="news.html">æ–°é—»</a>
        <a href="order-page.html">è®¢å•</a>
    </div>
    <div class="user-actions">
        <form id="header-search-form" action="search-results.html" method="GET">
            <div class="search-bar">
                <input type="text" name="query" placeholder="æœç´¢æ¸¸æˆ..." id="header-search-input">
            </div>
        </form>
        <a href="cart.html" class="btn" id="cart-btn">è´­ç‰©è½¦ (<span id="cart-count">0</span>)</a>
    </div>
</nav>
</header>

<!-- Search Container -->
<div class="search-container">
<div class="search-header">
    <h1 class="search-title">æœç´¢ç»“æœ</h1>
    <p class="search-subtitle" id="search-subtitle">åŠ è½½ä¸­...</p>
</div>

<!-- Search Layout -->
<div class="search-layout">
    <!-- Search Filters -->
    <div class="search-filters">
        <h3 class="filters-title">ç­›é€‰æ¡ä»¶</h3>
        
        <div class="filter-groups">
            <!-- Genre Filter -->
            <div class="filter-group">
                <label class="filter-label">æ¸¸æˆç±»å‹</label>
                <div class="filter-options" id="genre-filters">
                    <div class="filter-checkbox">
                        <input type="checkbox" id="genre-rpg" class="genre-filter" value="è§’è‰²æ‰®æ¼”">
                        <label for="genre-rpg">è§’è‰²æ‰®æ¼”</label>
                    </div>
                    <div class="filter-checkbox">
                        <input type="checkbox" id="genre-action" class="genre-filter" value="åŠ¨ä½œ">
                        <label for="genre-action">åŠ¨ä½œ</label>
                    </div>
                    <div class="filter-checkbox">
                        <input type="checkbox" id="genre-adventure" class="genre-filter" value="å†’é™©">
                        <label for="genre-adventure">å†’é™©</label>
                    </div>
                    <div class="filter-checkbox">
                        <input type="checkbox" id="genre-strategy" class="genre-filter" value="ç­–ç•¥">
                        <label for="genre-strategy">ç­–ç•¥</label>
                    </div>
                    <div class="filter-checkbox">
                        <input type="checkbox" id="genre-simulation" class="genre-filter" value="æ¨¡æ‹Ÿ">
                        <label for="genre-simulation">æ¨¡æ‹Ÿ</label>
                    </div>
                </div>
            </div>
            
            <!-- Price Range Filter -->
            <div class="filter-group">
                <label class="filter-label">ä»·æ ¼èŒƒå›´</label>
                <div class="filter-range">
                    <div class="range-values">
                        <span id="min-price">Â¥0</span>
                        <span id="max-price">Â¥399</span>
                    </div>
                    <div class="range-slider">
                        <div class="range-progress"></div>
                        <div class="range-handle start" id="price-start"></div>
                        <div class="range-handle end" id="price-end"></div>
                    </div>
                </div>
            </div>
            
            <!-- Rating Filter -->
            <div class="filter-group">
                <label class="filter-label">è¯„åˆ†</label>
                <div class="filter-options">
                    <div class="filter-checkbox">
                        <input type="checkbox" id="rating-5" class="rating-filter" value="5">
                        <label for="rating-5">5 æ˜Ÿ</label>
                    </div>
                    <div class="filter-checkbox">
                        <input type="checkbox" id="rating-4" class="rating-filter" value="4">
                        <label for="rating-4">4+ æ˜Ÿ</label>
                    </div>
                    <div class="filter-checkbox">
                        <input type="checkbox" id="rating-3" class="rating-filter" value="3">
                        <label for="rating-3">3+ æ˜Ÿ</label>
                    </div>
                    <div class="filter-checkbox">
                        <input type="checkbox" id="rating-2" class="rating-filter" value="2">
                        <label for="rating-2">2+ æ˜Ÿ</label>
                    </div>
                </div>
            </div>
            
            <!-- Features Filter -->
            <div class="filter-group">
                <label class="filter-label">ç‰¹æ€§</label>
                <div class="filter-options">
                    <div class="filter-checkbox">
                        <input type="checkbox" id="feature-multiplayer" class="feature-filter" value="å¤šäººæ¸¸æˆ">
                        <label for="feature-multiplayer">å¤šäººæ¸¸æˆ</label>
                    </div>
                    <div class="filter-checkbox">
                        <input type="checkbox" id="feature-controller" class="feature-filter" value="æ§åˆ¶å™¨æ”¯æŒ">
                        <label for="feature-controller">æ§åˆ¶å™¨æ”¯æŒ</label>
                    </div>
                    <div class="filter-checkbox">
                        <input type="checkbox" id="feature-openworld" class="feature-filter" value="å¼€æ”¾ä¸–ç•Œ">
                        <label for="feature-openworld">å¼€æ”¾ä¸–ç•Œ</label>
                    </div>
                    <div class="filter-checkbox">
                        <input type="checkbox" id="feature-singleplayer" class="feature-filter" value="å•äººæ¸¸æˆ">
                        <label for="feature-singleplayer">å•äººæ¸¸æˆ</label>
                    </div>
                </div>
            </div>
            
            <!-- Release Date Filter -->
            <div class="filter-group">
                <label class="filter-label">å‘å¸ƒæ—¥æœŸ</label>
                <div class="filter-tags" id="release-date-filters">
                    <div class="filter-tag" data-days="30">æœ€è¿‘30å¤©</div>
                    <div class="filter-tag" data-days="90">æœ€è¿‘90å¤©</div>
                    <div class="filter-tag" data-days="365">æœ€è¿‘ä¸€å¹´</div>
                    <div class="filter-tag active" data-days="0">ä¸é™æ—¶é—´</div>
                </div>
            </div>
        </div>
        
        <div class="filter-actions">
            <button class="btn btn-outline" id="reset-filters">é‡ç½®ç­›é€‰</button>
            <button class="btn" id="apply-filters">åº”ç”¨ç­›é€‰</button>
        </div>
    </div>

    <!-- Search Results -->
    <div class="search-results">
        <!-- Search Bar -->
        <form id="main-search-form" action="search-results.html" method="GET">
            <div class="search-bar-large">
                <input type="text" name="query" placeholder="æœç´¢æ¸¸æˆ..." id="main-search-input">
            </div>
        </form>
        
        <!-- Results Header -->
        <div class="results-header">
            <div class="results-count">æ˜¾ç¤º <span id="results-count">0</span> æ¡ç»“æœ</div>
            <div class="results-sort">
                <span class="sort-label">æ’åºæ–¹å¼:</span>
                <select class="sort-select" id="sort-select">
                    <option value="relevance">ç›¸å…³æ€§</option>
                    <option value="price-asc">ä»·æ ¼: ä»ä½åˆ°é«˜</option>
                    <option value="price-desc">ä»·æ ¼: ä»é«˜åˆ°ä½</option>
                    <option value="release-date">å‘å¸ƒæ—¥æœŸ</option>
                    <option value="rating">è¯„åˆ†</option>
                </select>
            </div>
        </div>
        
        <!-- Results Grid -->
        <div class="results-grid" id="results-grid">
            <!-- æ¸¸æˆå¡ç‰‡å°†ç”±JavaScriptåŠ¨æ€åŠ è½½ -->
            <div class="loading-message">æ­£åœ¨åŠ è½½æœç´¢ç»“æœ...</div>
        </div>
        
        <!-- No Results -->
        <div class="no-results" id="no-results" style="display: none;">
            <div class="no-results-icon">ğŸ”</div>
            <h2 class="no-results-title">æœªæ‰¾åˆ°ç»“æœ</h2>
            <p class="no-results-message">æŠ±æ­‰ï¼Œæˆ‘ä»¬æ‰¾ä¸åˆ°ä¸æ‚¨æœç´¢åŒ¹é…çš„æ¸¸æˆã€‚è¯·å°è¯•ä¸åŒçš„å…³é”®è¯æˆ–æµè§ˆæˆ‘ä»¬çš„æ¨èã€‚</p>
            <div class="suggested-searches">
                <div class="suggested-search">è§’è‰²æ‰®æ¼”</div>
                <div class="suggested-search">åŠ¨ä½œå†’é™©</div>
                <div class="suggested-search">ç­–ç•¥</div>
                <div class="suggested-search">å¤šäººæ¸¸æˆ</div>
                <div class="suggested-search">å¼€æ”¾ä¸–ç•Œ</div>
            </div>
        </div>
        
        <!-- Pagination -->
        <div class="pagination" id="pagination" style="display: none;">
            <button class="page-btn page-arrow" id="prev-page">â—€</button>
            <div id="page-buttons">
                <!-- é¡µç æŒ‰é’®å°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            <button class="page-btn page-arrow" id="next-page">â–¶</button>
        </div>
    </div>
</div>
</div>

<!-- Footer -->
<footer>
<div class="footer-content">
    <div class="footer-about">
        <a href="index.html" class="footer-logo">æ¸¸æˆä¸­å¿ƒ</a>
        <p>æ‚¨çš„ç»ˆææ¸¸æˆç›®çš„åœ°ã€‚åœ¨æˆ‘ä»¬çš„é«˜çº§æ¸¸æˆå¹³å°ä¸Šå‘ç°ã€ç©æ¸¸æˆå¹¶ä¸å…¨çƒç©å®¶è¿æ¥ã€‚</p>
        <div class="social-links">
            <a href="#" class="social-icon">f</a>
            <a href="#" class="social-icon">t</a>
            <a href="#" class="social-icon">in</a>
            <a href="#" class="social-icon">ig</a>
        </div>
    </div>
    
    <div class="footer-links-section">
        <h3 class="footer-title">å¿«é€Ÿé“¾æ¥</h3>
        <ul class="footer-links">
            <li><a href="index.html">é¦–é¡µ</a></li>
            <li><a href="#">æµè§ˆæ¸¸æˆ</a></li>
            <li><a href="#">åˆ†ç±»</a></li>
            <li><a href="#">ä¼˜æƒ ä¸ä¿ƒé”€</a></li>
            <li><a href="#">ç¤¼å“å¡</a></li>
        </ul>
    </div>
    
    <div class="footer-links-section">
        <h3 class="footer-title">æ”¯æŒ</h3>
        <ul class="footer-links">
            <li><a href="#">å¸®åŠ©ä¸­å¿ƒ</a></li>
            <li><a href="community.html">ç¤¾åŒº</a></li>
            <li><a href="#">è”ç³»æˆ‘ä»¬</a></li>
            <li><a href="#">ç³»ç»ŸçŠ¶æ€</a></li>
            <li><a href="#">å¼€å‘è€…API</a></li>
        </ul>
    </div>
    
    <div class="footer-links-section">
        <h3 class="footer-title">æ³•å¾‹</h3>
        <ul class="footer-links">
            <li><a href="#">æœåŠ¡æ¡æ¬¾</a></li>
            <li><a href="#">éšç§æ”¿ç­–</a></li>
            <li><a href="#">é€€æ¬¾æ”¿ç­–</a></li>
            <li><a href="#">Cookieæ”¿ç­–</a></li>
            <li><a href="#">ç”¨æˆ·åè®®</a></li>
        </ul>
    </div>
</div>

<div class="footer-bottom">
    <p class="copyright">Â© 2025 æ¸¸æˆä¸­å¿ƒã€‚ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚</p>
    <div class="footer-nav">
        <a href="#">éšç§</a>
        <a href="#">æ¡æ¬¾</a>
        <a href="#">Cookies</a>
        <a href="#">è®¾ç½®</a>
    </div>
</div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // è·å–æœç´¢è¾“å…¥æ¡†å’Œè¡¨å•
    const headerSearchForm = document.getElementById('header-search-form');
    const headerSearchInput = document.getElementById('header-search-input');
    const mainSearchForm = document.getElementById('main-search-form');
    const mainSearchInput = document.getElementById('main-search-input');
    
    // å¤„ç†å¤´éƒ¨æœç´¢è¡¨å•æäº¤
    headerSearchForm.addEventListener('submit', function(e) {
        // ç§»é™¤ç©ºå€¼æ£€æŸ¥ï¼Œå…è®¸ç©ºæœç´¢
        const query = headerSearchInput.value.trim();
        if (query) {
            document.getElementById('search-subtitle').textContent = `æ˜¾ç¤º"${query}"çš„æœç´¢ç»“æœ`;
            loadSearchResults(query);
        } else {
            document.getElementById('search-subtitle').textContent = 'æµè§ˆæ‰€æœ‰æ¸¸æˆ';
            loadAllGames();
        }
        e.preventDefault(); // é˜»æ­¢è¡¨å•é»˜è®¤æäº¤ï¼Œä½¿ç”¨æˆ‘ä»¬çš„è‡ªå®šä¹‰å¤„ç†
    });
    
    // å¤„ç†ä¸»æœç´¢è¡¨å•æäº¤
    mainSearchForm.addEventListener('submit', function(e) {
        // ç§»é™¤ç©ºå€¼æ£€æŸ¥ï¼Œå…è®¸ç©ºæœç´¢
        const query = mainSearchInput.value.trim();
        if (query) {
            document.getElementById('search-subtitle').textContent = `æ˜¾ç¤º"${query}"çš„æœç´¢ç»“æœ`;
            loadSearchResults(query);
        } else {
            document.getElementById('search-subtitle').textContent = 'æµè§ˆæ‰€æœ‰æ¸¸æˆ';
            loadAllGames();
        }
        e.preventDefault(); // é˜»æ­¢è¡¨å•é»˜è®¤æäº¤ï¼Œä½¿ç”¨æˆ‘ä»¬çš„è‡ªå®šä¹‰å¤„ç†
    });

    // å…¨å±€å˜é‡
    let allGames = []; // å­˜å‚¨æ‰€æœ‰æ¸¸æˆæ•°æ®
    let filteredGames = []; // å­˜å‚¨ç­›é€‰åçš„æ¸¸æˆ
    let currentPage = 1;
    const gamesPerPage = 8;
    let activeFilters = {
        genres: [],
        ratings: [],
        features: [],
        priceRange: [0, 399],
        releaseDate: 0 // 0è¡¨ç¤ºä¸é™æ—¶é—´ï¼Œå…¶ä»–å€¼è¡¨ç¤ºå¤©æ•°
    };

    // åˆå§‹åŒ–é¡µé¢
    initPage();
    
    // é¡µé¢åˆå§‹åŒ–å‡½æ•°
    function initPage() {
        // ä»URLè·å–æœç´¢è¯
        const urlParams = new URLSearchParams(window.location.search);
        const query = urlParams.get('query') || '';
        
        // è®¾ç½®æœç´¢æ¡†çš„å€¼
        headerSearchInput.value = query;
        mainSearchInput.value = query;
        
        // å¦‚æœæœ‰æœç´¢è¯ï¼ŒåŠ è½½æœç´¢ç»“æœ
        if (query) {
            document.getElementById('search-subtitle').textContent = `æ˜¾ç¤º"${query}"çš„æœç´¢ç»“æœ`;
            loadSearchResults(query);
        } else {
            document.getElementById('search-subtitle').textContent = 'æµè§ˆæ‰€æœ‰æ¸¸æˆ';
            loadAllGames();
        }

        // è®¾ç½®ç­›é€‰å™¨äº‹ä»¶ç›‘å¬
        setupFilterEvents();
    }

    // åŠ è½½æ‰€æœ‰æ¸¸æˆæ•°æ®
    function loadAllGames() {
        fetch('games.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error('ç½‘ç»œå“åº”ä¸æ­£å¸¸');
                }
                return response.json();
            })
            .then(data => {
                allGames = data.games;
                filteredGames = [...allGames];
                updateResultsCount(filteredGames.length);
                renderGames(filteredGames);
            })
            .catch(error => {
                console.error('è·å–æ¸¸æˆæ•°æ®å¤±è´¥:', error);
                showNoResults();
            });
    }

    // æ ¹æ®æœç´¢è¯åŠ è½½æ¸¸æˆ
    function loadSearchResults(query) {
        fetch('games.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error('ç½‘ç»œå“åº”ä¸æ­£å¸¸');
                }
                return response.json();
            })
            .then(data => {
                allGames = data.games;
                
                // æ‰§è¡Œæœç´¢
                const searchResults = searchGames(allGames, query);
                filteredGames = searchResults;
                
                if (searchResults.length > 0) {
                    updateResultsCount(searchResults.length);
                    renderGames(searchResults);
                } else {
                    showNoResults();
                }
            })
            .catch(error => {
                console.error('è·å–æ¸¸æˆæ•°æ®å¤±è´¥:', error);
                showNoResults();
            });
    }

    // æœç´¢æ¸¸æˆå‡½æ•°
    function searchGames(games, query) {
        if (!query) return games; // å½“æœç´¢è¯ä¸ºç©ºæ—¶è¿”å›æ‰€æœ‰æ¸¸æˆ
        
        const searchTerms = query.toLowerCase().split(/\s+/);
        
        return games.filter(game => {
            // åœ¨æ ‡é¢˜ã€æè¿°ã€ç±»å‹ã€æ ‡ç­¾ä¸­æœç´¢
            const titleMatch = game.title.toLowerCase().includes(query.toLowerCase());
            const descMatch = game.description.toLowerCase().includes(query.toLowerCase());
            
            // åœ¨ç±»å‹å’Œæ ‡ç­¾ä¸­æœç´¢æ‰€æœ‰æœ¯è¯­
            const genreMatches = game.genres.some(genre => 
                searchTerms.some(term => genre.toLowerCase().includes(term))
            );
            
            const tagMatches = game.tags.some(tag => 
                searchTerms.some(term => tag.toLowerCase().includes(term))
            );
            
            return titleMatch || descMatch || genreMatches || tagMatches;
        });
    }

    // æ¸²æŸ“æ¸¸æˆå¡ç‰‡
    function renderGames(games) {
        const resultsGrid = document.getElementById('results-grid');
        const noResults = document.getElementById('no-results');
        const pagination = document.getElementById('pagination');
        
        if (games.length === 0) {
            resultsGrid.style.display = 'none';
            pagination.style.display = 'none';
            noResults.style.display = 'block';
            return;
        }
        
        // æ¸…ç©ºç»“æœç½‘æ ¼å¹¶æ˜¾ç¤º
        resultsGrid.innerHTML = '';
        resultsGrid.style.display = 'grid';
        noResults.style.display = 'none';
        
        // åˆ†é¡µå¤„ç†
        const totalPages = Math.ceil(games.length / gamesPerPage);
        if (currentPage > totalPages) currentPage = 1;
        
        const startIndex = (currentPage - 1) * gamesPerPage;
        const endIndex = Math.min(startIndex + gamesPerPage, games.length);
        const currentGames = games.slice(startIndex, endIndex);
        
        // åˆ›å»ºæ¸¸æˆå¡ç‰‡
        currentGames.forEach(game => {
            const gameCard = createGameCard(game);
            resultsGrid.appendChild(gameCard);
        });
        
        // æ›´æ–°åˆ†é¡µ
        updatePagination(games.length, gamesPerPage);
    }

    // åˆ›å»ºæ¸¸æˆå¡ç‰‡
    function createGameCard(game) {
        const gameCard = document.createElement('div');
        gameCard.className = 'game-card';
        
        // ç”Ÿæˆæ˜Ÿçº§æ˜¾ç¤º
        const fullStars = Math.floor(game.rating);
        const halfStar = game.rating % 1 >= 0.5 ? 1 : 0;
        const emptyStars = 5 - fullStars - halfStar;
        const starRating = 'â˜…'.repeat(fullStars) + (halfStar ? 'â˜†' : '') + 'â˜†'.repeat(emptyStars);
        
        // è·å–å¹´ä»½
        const releaseYear = new Date(game.release_date).getFullYear();
        
        // æ„å»ºHTML
        gameCard.innerHTML = `
            <img src="${game.cover_image}" alt="${game.title}" class="game-img">
            <div class="game-content">
                <div class="game-tags">
                    ${game.genres.slice(0, 3).map(genre => 
                        `<span class="game-tag">${genre}</span>`
                    ).join('')}
                </div>
                <h3 class="game-title"><a href="game-detalis.html?id=${game.id}">${game.title}</a></h3>
                <div class="game-meta">
                    <div class="game-rating">
                        <span class="rating-stars">${starRating}</span>
                        <span>${game.rating.toFixed(1)}</span>
                    </div>
                    <div class="game-release">${releaseYear}</div>
                </div>
                <div class="game-price">
                    <div class="price-amount">Â¥${game.price.toFixed(2)}</div>
                </div>
            </div>
        `;
        
        // è®¾ç½®ç‚¹å‡»äº‹ä»¶
        gameCard.querySelector('.game-title a').addEventListener('click', function(e) {
            window.location.href = `game-detalis.html?id=${game.id}`;
        });
        
        return gameCard;
    }

    // æ›´æ–°åˆ†é¡µ
    function updatePagination(totalGames, gamesPerPage) {
        const pagination = document.getElementById('pagination');
        const pageButtons = document.getElementById('page-buttons');
        const totalPages = Math.ceil(totalGames / gamesPerPage);
        
        if (totalPages <= 1) {
            pagination.style.display = 'none';
            return;
        }
        
        pagination.style.display = 'flex';
        pageButtons.innerHTML = '';
        
        // åˆ›å»ºé¡µç æŒ‰é’®
        for (let i = 1; i <= Math.min(totalPages, 5); i++) {
            const pageBtn = document.createElement('button');
            pageBtn.className = 'page-btn' + (i === currentPage ? ' active' : '');
            pageBtn.textContent = i;
            pageBtn.addEventListener('click', () => {
                currentPage = i;
                renderGames(filteredGames);
                window.scrollTo({
                    top: document.querySelector('.search-header').offsetTop,
                    behavior: 'smooth'
                });
            });
            pageButtons.appendChild(pageBtn);
        }
        
        if (totalPages > 5) {
            const ellipsis = document.createElement('button');
            ellipsis.className = 'page-btn';
            ellipsis.textContent = '...';
            ellipsis.disabled = true;
            pageButtons.appendChild(ellipsis);
            
            const lastPageBtn = document.createElement('button');
            lastPageBtn.className = 'page-btn';
            lastPageBtn.textContent = totalPages;
            lastPageBtn.addEventListener('click', () => {
                currentPage = totalPages;
                renderGames(filteredGames);
                window.scrollTo({
                    top: document.querySelector('.search-header').offsetTop,
                    behavior: 'smooth'
                });
            });
            pageButtons.appendChild(lastPageBtn);
        }
        
        // ä¸Šä¸€é¡µ/ä¸‹ä¸€é¡µæŒ‰é’®
        const prevBtn = document.getElementById('prev-page');
        const nextBtn = document.getElementById('next-page');
        
        prevBtn.disabled = currentPage === 1;
        nextBtn.disabled = currentPage === totalPages;
        
        prevBtn.addEventListener('click', () => {
            if (currentPage > 1) {
                currentPage--;
                renderGames(filteredGames);
                window.scrollTo({
                    top: document.querySelector('.search-header').offsetTop,
                    behavior: 'smooth'
                });
            }
        });
        
        nextBtn.addEventListener('click', () => {
            if (currentPage < totalPages) {
                currentPage++;
                renderGames(filteredGames);
                window.scrollTo({
                    top: document.querySelector('.search-header').offsetTop,
                    behavior: 'smooth'
                });
            }
        });
    }

    // æ˜¾ç¤ºæ— ç»“æœé¡µé¢
    function showNoResults() {
        document.getElementById('results-grid').style.display = 'none';
        document.getElementById('pagination').style.display = 'none';
        document.getElementById('no-results').style.display = 'block';
        updateResultsCount(0);
    }

    // æ›´æ–°ç»“æœæ•°é‡
    function updateResultsCount(count) {
        document.getElementById('results-count').textContent = count;
    }

    // è®¾ç½®ç­›é€‰å™¨äº‹ä»¶ç›‘å¬
    function setupFilterEvents() {
        // ç±»å‹ç­›é€‰å™¨
        const genreCheckboxes = document.querySelectorAll('.genre-filter');
        genreCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    activeFilters.genres.push(this.value);
                } else {
                    activeFilters.genres = activeFilters.genres.filter(genre => genre !== this.value);
                }
            });
        });
        
        // è¯„åˆ†ç­›é€‰å™¨
        const ratingCheckboxes = document.querySelectorAll('.rating-filter');
        ratingCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    activeFilters.ratings.push(parseInt(this.value));
                } else {
                    activeFilters.ratings = activeFilters.ratings.filter(rating => rating !== parseInt(this.value));
                }
            });
        });
        
        // ç‰¹æ€§ç­›é€‰å™¨
        const featureCheckboxes = document.querySelectorAll('.feature-filter');
        featureCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    activeFilters.features.push(this.value);
                } else {
                    activeFilters.features = activeFilters.features.filter(feature => feature !== this.value);
                }
            });
        });
        
        // å‘å¸ƒæ—¥æœŸç­›é€‰å™¨
        const releaseDateFilters = document.querySelectorAll('#release-date-filters .filter-tag');
        releaseDateFilters.forEach(filter => {
            filter.addEventListener('click', function() {
                releaseDateFilters.forEach(f => f.classList.remove('active'));
                this.classList.add('active');
                activeFilters.releaseDate = parseInt(this.getAttribute('data-days'));
            });
        });
        
        // ä»·æ ¼èŒƒå›´ç­›é€‰å™¨
        setupPriceRangeSlider();
        
        // åº”ç”¨ç­›é€‰æŒ‰é’®
        document.getElementById('apply-filters').addEventListener('click', applyFilters);
        
        // é‡ç½®ç­›é€‰æŒ‰é’®
        document.getElementById('reset-filters').addEventListener('click', resetFilters);
        
        // æ’åºé€‰æ‹©å™¨
        document.getElementById('sort-select').addEventListener('change', function() {
            sortGames(this.value);
        });
        
        // å»ºè®®æœç´¢
        const suggestedSearches = document.querySelectorAll('.suggested-search');
        suggestedSearches.forEach(search => {
            search.addEventListener('click', function() {
                mainSearchInput.value = this.textContent;
                mainSearchForm.submit();
            });
        });
    }

    // è®¾ç½®ä»·æ ¼èŒƒå›´æ»‘å—
    function setupPriceRangeSlider() {
        const rangeHandles = document.querySelectorAll('.range-handle');
        const rangeProgress = document.querySelector('.range-progress');
        const minPriceElement = document.getElementById('min-price');
        const maxPriceElement = document.getElementById('max-price');
        
        // åˆå§‹ä½ç½®
        rangeProgress.style.width = '100%';
        
        rangeHandles.forEach(handle => {
            handle.addEventListener('mousedown', function() {
                const isStart = this.classList.contains('start');
                
                document.addEventListener('mousemove', moveHandle);
                document.addEventListener('mouseup', function() {
                    document.removeEventListener('mousemove', moveHandle);
                });
                
                function moveHandle(e) {
                    const slider = document.querySelector('.range-slider');
                    const sliderRect = slider.getBoundingClientRect();
                    let position = (e.clientX - sliderRect.left) / sliderRect.width;
                    position = Math.max(0, Math.min(1, position));
                    
                    // ä»·æ ¼èŒƒå›´ä»0åˆ°399
                    const priceRange = 399;
                    
                    if (isStart) {
                        const endHandle = document.querySelector('.range-handle.end');
                        const endPosition = parseFloat(endHandle.style.left) / 100 || 1;
                        
                        position = Math.min(position, endPosition);
                        handle.style.left = `${position * 100}%`;
                        rangeProgress.style.left = `${position * 100}%`;
                        rangeProgress.style.width = `${(endPosition - position) * 100}%`;
                        
                        const price = Math.round(position * priceRange);
                        minPriceElement.textContent = `Â¥${price}`;
                        activeFilters.priceRange[0] = price;
                    } else {
                        const startHandle = document.querySelector('.range-handle.start');
                        const startPosition = parseFloat(startHandle.style.left) / 100 || 0;
                        
                        position = Math.max(position, startPosition);
                        handle.style.left = `${position * 100}%`;
                        rangeProgress.style.width = `${(position - startPosition) * 100}%`;
                        
                        const price = Math.round(position * priceRange);
                        maxPriceElement.textContent = `Â¥${price}`;
                        activeFilters.priceRange[1] = price;
                    }
                }
            });
        });
    }

    // åº”ç”¨ç­›é€‰å™¨
    function applyFilters() {
        if (allGames.length === 0) return;
        
        // å…‹éš†æ‰€æœ‰æ¸¸æˆæ•°ç»„æˆ–ä½¿ç”¨æœç´¢ç»“æœ
        let results = [...allGames];
        const query = mainSearchInput.value;
        
        if (query) {
            results = searchGames(results, query);
        }
        
        // åº”ç”¨ç±»å‹ç­›é€‰
        if (activeFilters.genres.length > 0) {
            results = results.filter(game => 
                game.genres.some(genre => 
                    activeFilters.genres.includes(genre)
                )
            );
        }
        
        // åº”ç”¨è¯„åˆ†ç­›é€‰
        if (activeFilters.ratings.length > 0) {
            results = results.filter(game => {
                return activeFilters.ratings.some(rating => game.rating >= rating);
            });
        }
        
        // åº”ç”¨ç‰¹æ€§ç­›é€‰
        if (activeFilters.features.length > 0) {
            results = results.filter(game => {
                let matchesFeature = false;
                
                activeFilters.features.forEach(feature => {
                    if (feature === 'å¼€æ”¾ä¸–ç•Œ' && 
                        (game.genres.includes('å¼€æ”¾ä¸–ç•Œ') || game.tags.includes('å¼€æ”¾ä¸–ç•Œ'))) {
                        matchesFeature = true;
                    }
                    
                    if (feature === 'å¤šäººæ¸¸æˆ' && 
                        (game.player_mode.includes('å¤šäºº') || game.tags.includes('å¤šäºº'))) {
                        matchesFeature = true;
                    }
                    
                    if (feature === 'å•äººæ¸¸æˆ' && 
                        game.player_mode.includes('å•äºº')) {
                        matchesFeature = true;
                    }
                    
                    if (feature === 'æ§åˆ¶å™¨æ”¯æŒ') {
                        matchesFeature = true; // å‡è®¾æ‰€æœ‰æ¸¸æˆéƒ½æ”¯æŒæ§åˆ¶å™¨
                    }
                });
                
                return matchesFeature;
            });
        }
        
        // åº”ç”¨ä»·æ ¼èŒƒå›´ç­›é€‰
        results = results.filter(game => 
            game.price >= activeFilters.priceRange[0] && 
            game.price <= activeFilters.priceRange[1]
        );
        
        // åº”ç”¨å‘å¸ƒæ—¥æœŸç­›é€‰
        if (activeFilters.releaseDate > 0) {
            const today = new Date();
            const cutoffDate = new Date();
            cutoffDate.setDate(today.getDate() - activeFilters.releaseDate);
            
            results = results.filter(game => {
                const releaseDate = new Date(game.release_date);
                return releaseDate >= cutoffDate;
            });
        }
        
        // æ›´æ–°ç­›é€‰ç»“æœ
        filteredGames = results;
        currentPage = 1;
        
        // åº”ç”¨å½“å‰æ’åº
        const sortSelect = document.getElementById('sort-select');
        sortGames(sortSelect.value);
        
        if (results.length > 0) {
            updateResultsCount(results.length);
            renderGames(results);
        } else {
            showNoResults();
        }
    }

    // é‡ç½®ç­›é€‰å™¨
    function resetFilters() {
        // é‡ç½®å¤é€‰æ¡†
        document.querySelectorAll('.filter-checkbox input').forEach(checkbox => {
            checkbox.checked = false;
        });
        
        // é‡ç½®å‘å¸ƒæ—¥æœŸ
        document.querySelectorAll('#release-date-filters .filter-tag').forEach(tag => {
            tag.classList.remove('active');
        });
        document.querySelector('#release-date-filters .filter-tag[data-days="0"]').classList.add('active');
        
        // é‡ç½®æ’åº
        document.getElementById('sort-select').value = 'relevance';
        
        // é‡ç½®ä»·æ ¼èŒƒå›´æ»‘å—
        const rangeProgress = document.querySelector('.range-progress');
        const startHandle = document.querySelector('.range-handle.start');
        const endHandle = document.querySelector('.range-handle.end');
        
        rangeProgress.style.left = '0';
        rangeProgress.style.width = '100%';
        startHandle.style.left = '0';
        endHandle.style.left = '100%';
        
        document.getElementById('min-price').textContent = 'Â¥0';
        document.getElementById('max-price').textContent = 'Â¥399';
        
        // é‡ç½®æ´»åŠ¨ç­›é€‰å™¨å¯¹è±¡
        activeFilters = {
            genres: [],
            ratings: [],
            features: [],
            priceRange: [0, 399],
            releaseDate: 0
        };
        
        // å¦‚æœæœ‰æœç´¢è¯ï¼Œåº”ç”¨æœç´¢
        const query = mainSearchInput.value;
        if (query) {
            loadSearchResults(query);
        } else {
            // å¦åˆ™æ˜¾ç¤ºæ‰€æœ‰æ¸¸æˆ
            filteredGames = [...allGames];
            currentPage = 1;
            updateResultsCount(allGames.length);
            renderGames(allGames);
        }
    }

    // æ’åºæ¸¸æˆ
    function sortGames(sortBy) {
        if (filteredGames.length === 0) return;
        
        let sortedGames = [...filteredGames];
        
        switch (sortBy) {
            case 'price-asc':
                sortedGames.sort((a, b) => a.price - b.price);
                break;
                
            case 'price-desc':
                sortedGames.sort((a, b) => b.price - a.price);
                break;
                
            case 'release-date':
                sortedGames.sort((a, b) => new Date(b.release_date) - new Date(a.release_date));
                break;
                
            case 'rating':
                sortedGames.sort((a, b) => b.rating - a.rating);
                break;
                
            case 'relevance':
            default:
                // å¦‚æœæœ‰æœç´¢è¯ï¼Œæ ¹æ®ç›¸å…³æ€§æ’åº
                const query = mainSearchInput.value;
                if (query) {
                    const searchTerms = query.toLowerCase().split(/\s+/);
                    
                    sortedGames.sort((a, b) => {
                        // è®¡ç®—ç›¸å…³æ€§åˆ†æ•°
                        const scoreA = calculateRelevanceScore(a, searchTerms);
                        const scoreB = calculateRelevanceScore(b, searchTerms);
                        
                        return scoreB - scoreA;
                    });
                }
                break;
        }
        
        filteredGames = sortedGames;
        currentPage = 1;
        renderGames(filteredGames);
    }

    // è®¡ç®—ç›¸å…³æ€§åˆ†æ•°
    function calculateRelevanceScore(game, searchTerms) {
        let score = 0;
        
        // æ ‡é¢˜åŒ¹é…å¾—é«˜åˆ†
        if (searchTerms.some(term => game.title.toLowerCase().includes(term))) {
            score += 10;
        }
        
        // ç±»å‹åŒ¹é…
        game.genres.forEach(genre => {
            if (searchTerms.some(term => genre.toLowerCase().includes(term))) {
                score += 5;
            }
        });
        
        // æ ‡ç­¾åŒ¹é…
        game.tags.forEach(tag => {
            if (searchTerms.some(term => tag.toLowerCase().includes(term))) {
                score += 3;
            }
        });
        
        // æè¿°åŒ¹é…
        if (searchTerms.some(term => game.description.toLowerCase().includes(term))) {
            score += 2;
        }
        
        return score;
    }

    // æ¸¸æˆå¡ç‰‡æ‚¬åœæ•ˆæœ
    document.addEventListener('mouseover', function(e) {
        const gameCard = e.target.closest('.game-card');
        if (gameCard) {
            gameCard.style.transform = 'translateY(-10px)';
            gameCard.style.boxShadow = '0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.1)';
        }
    });
    
    document.addEventListener('mouseout', function(e) {
        const gameCard = e.target.closest('.game-card');
        if (gameCard) {
            gameCard.style.transform = '';
            gameCard.style.boxShadow = '';
        }
    });

    // æ›´æ–°è´­ç‰©è½¦æ•°é‡æ˜¾ç¤º
    function updateCartCount() {
        const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
        const cartCount = document.getElementById('cart-count');
        cartCount.textContent = cartItems.length;
    }

    // åˆå§‹åŒ–æ—¶æ›´æ–°è´­ç‰©è½¦æ•°é‡
    updateCartCount();
});
</script>
</body>
</html>
